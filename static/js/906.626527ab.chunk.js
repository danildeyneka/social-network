"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[906],{9906:function(e,n,r){r.r(n),r.d(n,{default:function(){return g}});var t=r(2791),s=r(6559),u=r(9439),i=r(8987),c=r(3504),a=r(184),o=t.memo((function(e){var n,r=e.message;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.OL,{to:"/profile/".concat(r.userId),children:(0,a.jsx)("img",{alt:"avatar",src:null!==(n=r.photo)&&void 0!==n?n:i,style:{width:60,borderRadius:15}})}),(0,a.jsx)("b",{children:r.userName}),(0,a.jsx)("div",{children:r.message})]})})),l=r(1313),d=function(e){return e.messengerPage.messages},f=function(){var e=(0,l.C)(d),n=(0,t.useRef)(null),r=(0,t.useState)(!0),s=(0,u.Z)(r,2),i=s[0],c=s[1];return(0,t.useEffect)((function(){var e;i&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{height:400,overflowY:"auto"},onScroll:function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<50?c(!0):c(!1)},children:[e.map((function(e,n){return(0,a.jsx)(o,{message:e},n)})),(0,a.jsx)("div",{ref:n})]})})},h=r(7597),v=function(){var e=(0,t.useState)(""),n=(0,u.Z)(e,2),r=n[0],s=n[1],i=(0,t.useState)("pending"),c=(0,u.Z)(i,2),o=c[0],d=c[1],f=(0,l.T)();return(0,t.useEffect)((function(){return d("ready"),function(){return d("pending")}}),[o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{onChange:function(e){return s(e.currentTarget.value)},value:r})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{disabled:"pending"===o,onClick:function(){r&&(f((0,h.bG)(r)),s(""))},children:"Send"})})]})},g=(0,s.Z)((function(){var e=(0,l.T)();return(0,t.useEffect)((function(){return e((0,h.WE)()),function(){return e((0,h.R7)())}}),[]),(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{}),(0,a.jsx)(v,{})]})}))}}]);
//# sourceMappingURL=906.626527ab.chunk.js.map