"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[664],{2664:function(e,n,t){t.r(n);var r=t(2982),s=t(885),a=t(2791),i=t(6559),c=t(184),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),d=function(){var e=(0,a.useState)([]),n=(0,s.Z)(e,2),t=n[0],i=n[1];return(0,a.useEffect)((function(){u.addEventListener("message",(function(e){var n=JSON.parse(e.data);i((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))}))}))}),[]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{style:{height:400,overflowY:"auto"},children:t.map((function(e,n){return(0,c.jsx)(o,{message:e},n)}))})})},o=function(e){var n=e.message;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{alt:"avatar",src:n.photo,style:{width:30}}),(0,c.jsx)("b",{children:n.userName}),(0,c.jsx)("div",{children:n.message})]})},l=function(){var e=(0,a.useState)(""),n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{children:(0,c.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value.trim())},value:t})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{onClick:function(){t&&(u.send(t),r(""))},children:"Send"})})]})},h=(0,i.Z)((function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(d,{}),(0,c.jsx)(l,{})]})}));n.default=h}}]);
//# sourceMappingURL=664.855b5d10.chunk.js.map