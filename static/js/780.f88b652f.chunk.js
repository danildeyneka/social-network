"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[780],{6780:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r=t(885),s=t(8567),i=t(2791),a=t(3445),u={user__avatar:"Users_user__avatar__XRer4"},l=t(501),c=t(8987),o=function(n){return n.usersPage.isFetching},d=function(n){return n.usersPage.pageSize},f=function(n){return n.usersPage.usersData},g=function(n){return n.usersPage.followingInProgress},h=function(n){return n.usersPage.currentPage},m=function(n){return n.usersPage.totalUsersCount},x=function(n){return n.usersPage.filter},j=t(1313),p=t(184),v=function(){var n=(0,j.C)(f),e=(0,j.C)(g),t=(0,j.T)();return(0,p.jsx)("div",{className:u.user,children:n.map((function(n){return(0,p.jsxs)("div",{children:[(0,p.jsx)(l.OL,{to:"/profile/".concat(n.id),children:(0,p.jsx)("img",{className:u.user__avatar,src:null!==n.photos.small?n.photos.small:c,alt:"img"})}),(0,p.jsx)("div",{children:n.followed?(0,p.jsx)("button",{disabled:e.includes(n.id),onClick:function(){t((0,s.fv)(n.id))},children:"Unfollow"}):(0,p.jsx)("button",{disabled:e.includes(n.id),onClick:function(){t((0,s.ZN)(n.id))},children:"Follow"})}),(0,p.jsxs)("div",{className:u.user__info,children:[(0,p.jsx)("div",{className:u.user__name,children:n.name}),(0,p.jsx)("div",{className:u.user__status,children:n.status})]})]},n.id)}))})},_="Pagination_pages__tYDX0",C="Pagination_selected__PQPcu",P=function(n){for(var e=n.totalUsersCount,t=n.pageSize,r=n.currentPage,s=n.onPageChanged,i=Math.ceil(e/t),a=[],u=1;u<=i;u++)a.push(u);var l=r-5<0?0:r-5,c=r+5,o=a.slice(l,c);return(0,p.jsx)("div",{className:_,children:o.map((function(n){return(0,p.jsx)("span",{className:r===n?C:"",onClick:function(){return s(n)},children:"".concat(n," ")},n)}))})},b=t(5705),N=function(n){return(0,p.jsx)("div",{children:(0,p.jsx)(b.J9,{initialValues:{term:"",friend:""},onSubmit:function(e,t){var r=t.setSubmitting;n.onFilterChange(e),r(!1)},validate:function(n){return{}},children:function(n){var e=n.isSubmitting;return(0,p.jsxs)(b.l0,{children:[(0,p.jsx)(b.gN,{type:"text",name:"term"}),(0,p.jsxs)(b.gN,{name:"friend",as:"select",children:[(0,p.jsx)("option",{value:"null",children:"All"}),(0,p.jsx)("option",{value:"true",children:"Only followed"}),(0,p.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,p.jsx)("button",{type:"submit",disabled:e,children:"Find"})]})}})})},w=function(){var n=(0,j.T)(),e=(0,j.C)(o),t=(0,j.C)(d),u=(0,j.C)(h),c=(0,j.C)(m),f=(0,j.C)(x),g=(0,l.lr)(),_=(0,r.Z)(g,2),C=_[0],b=_[1];return(0,i.useEffect)((function(){1===u&&""===f.friend&&""===f.term||b("?term=".concat(f.term,"&friend=").concat(f.friend,"&page=").concat(u))}),[u,C]),(0,i.useEffect)((function(){n((0,s.Rf)(u,t,f))}),[u]),(0,p.jsx)(p.Fragment,{children:e?(0,p.jsx)(a.Z,{}):(0,p.jsxs)("div",{children:[(0,p.jsx)(N,{onFilterChange:function(e){n((0,s.Rf)(1,t,e))}}),(0,p.jsx)(P,{currentPage:u,pageSize:t,totalUsersCount:c,onPageChanged:function(e){n((0,s.Rf)(e,t,f))}}),(0,p.jsx)(v,{})]})})}}}]);
//# sourceMappingURL=780.f88b652f.chunk.js.map